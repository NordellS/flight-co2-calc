(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){},22:function(e,t,a){e.exports=a(69)},33:function(e,t,a){},36:function(e,t,a){},48:function(e,t,a){},51:function(e,t,a){},54:function(e,t,a){},57:function(e,t,a){},60:function(e,t,a){},66:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(20),c=a.n(r),l=a(2),i=a(3),s=a(5),u=a(4),m=a(6),p=a(71),h=a(73),d=a(72),v=a(70),f=(a(33),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("footer",null,o.a.createElement("div",{className:"footerContainer"},o.a.createElement("a",{href:"mailto:sara@nordell.me"},"Contact us")))}}]),t}(o.a.Component)),g=(a(36),a(19),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("header",null,o.a.createElement("div",{className:"logoContainer"},o.a.createElement(v.a,{to:"/"},o.a.createElement("h1",null,"Green Your Conscience"))),o.a.createElement("div",{className:"navContainer"},o.a.createElement(v.a,{to:"/calculate"},o.a.createElement("p",null,"Calculate CO2")),o.a.createElement(v.a,{to:"/actions"},o.a.createElement("p",null,"Compansate"))))}}]),t}(o.a.Component)),E=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(g,null),o.a.createElement("div",{className:"contentWrapper"},o.a.createElement("div",{className:"landingPageContainer"},o.a.createElement("img",{src:"/globe.svg",alt:"globe"}),o.a.createElement("h3",null,"What can you do to compensate your flights?"),o.a.createElement("p",null,"Are you one of those heroes that care about our planet? Do you avoid flying and if you really don'thave a choice you will make sure you compensate for it? We admire you! However, this might be a recent change of your actions due to all the alarms about global warming and climate change these days. Maybe you are looking back on all the trips you've made in the past and wonder how you could compensate for them? You have come to the right place. We believe that donating money to climate projects is good, but starting to make changes to your everyday life is even better. Because, if we want a more resilient planet we all need to change our behaviour and act greener!"),o.a.createElement("h3",null,"How does it work?"),o.a.createElement("p",null,"Start by adding trips you want to compensate for. This will give you the total value of your CO2 emissions. Once you have accepted this fact, move on to the next page and start compensate. You'll get suggestions on climate friendly actions and as you start adding them you will see that your emissions decrease. Continue until you have reached zero and your conscience will become lighter. Are you ready to make up for your past?"),o.a.createElement(v.a,{to:"/calculate"},o.a.createElement("button",{type:"button",className:"goToCalculateButton"},"Start making your conscience greener!")))),o.a.createElement(f,null))}}]),t}(o.a.Component),b=a(15),C=a(12),y=a.n(C),O=(a(48),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleClickRemove=function(){var e=a.props,t=e.id;(0,e.removeTrip)(t)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.departure,a=e.arrival,n=e.distance;return o.a.createElement("div",{className:"tripWrapper"},o.a.createElement("div",{className:"tripInfoContainer"},o.a.createElement("p",null,o.a.createElement("span",null,t)," to ",o.a.createElement("span",null,a),o.a.createElement("br",null),"Distance: ",o.a.createElement("span",null,n)," km")),o.a.createElement("div",{className:"tripRemoveButton"},o.a.createElement("button",{type:"button",className:"removeButton",onClick:this.handleClickRemove},"Remove")))}}]),t}(o.a.Component)),j=(a(51),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("header",null,o.a.createElement("div",{className:"logoContainer"},o.a.createElement("img",{src:"/globe.svg",alt:"globe"}),o.a.createElement(v.a,{to:"/"},o.a.createElement("h1",null,"Green Your Conscience"))),o.a.createElement("div",{className:"navContainer"},o.a.createElement(v.a,{to:"/calculate"},o.a.createElement("p",null,"Calculate CO2")),o.a.createElement(v.a,{to:"/actions"},o.a.createElement("p",null,"Compansate"))))}}]),t}(o.a.Component));y.a.setApiKey("AIzaSyB4-VrovPd6PrQ_UZP_1V39NuCtUkj9m3U"),y.a.enableDebug();var S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={departure:"",arrival:"",trips:[],totalDistance:0,totalCo2:0,inputError:!1},a.handleDeparture=function(e){e.preventDefault(),a.setState({departure:e.target.value})},a.handleArrival=function(e){e.preventDefault(),a.setState({arrival:e.target.value})},a.clearFields=function(){a.setState({departure:"",arrival:"",inputError:!1})},a.getLatLng=function(){if(a.state.departure.length<1||a.state.arrival.length<1)a.setState({inputError:!0});else{var e=y.a.fromAddress(a.state.departure).then(function(e){return e.results[0].geometry.location}),t=y.a.fromAddress(a.state.arrival).then(function(e){return e.results[0].geometry.location});Promise.all([e,t]).then(function(e){a.getDistance(e[0],e[1]),a.clearFields()})}},a.getDistance=function(e,t){var n=a.state.trips,o=(t.lat-e.lat)*Math.PI/180,r=(t.lng-e.lng)*Math.PI/180,c=.5-Math.cos(o)/2+Math.cos(e.lat*Math.PI/180)*Math.cos(t.lat*Math.PI/180)*(1-Math.cos(r))/2,l=(2*(12742*Math.asin(Math.sqrt(c)))).toFixed(0),i=28e-5*l,s={departure:a.state.departure,arrival:a.state.arrival,distance:l,id:Date.now(),co2Value:i};a.setState({trips:Object(b.a)(n).concat([s])},function(){var e=JSON.stringify(a.state.trips);localStorage.setItem("trips",e)})},a.getTotalDistance=function(){var e=a.state.trips,t=0;e.forEach(function(e){t+=Number(e.distance)}),a.setState({totalDistance:t},function(){var e=JSON.stringify(a.state.totalDistance);localStorage.setItem("distData",e)})},a.calcTotalCo2=function(){var e=a.state.trips,t=0;e.forEach(function(e){t+=Number(e.co2Value)}),a.setState({totalCo2:t},function(){var e=JSON.stringify(a.state.totalCo2);localStorage.setItem("totalCo2",e)})},a.getTotCo2=function(){if(localStorage.getItem("totalCo2")){var e=JSON.parse(localStorage.getItem("totalCo2"));a.setState({totalCo2:e})}},a.getTrips=function(){if(localStorage.getItem("trips")){var e=JSON.parse(localStorage.getItem("trips"));a.setState({trips:e})}},a.getDist=function(){if(localStorage.getItem("distData")){var e=JSON.parse(localStorage.getItem("distData"));a.setState({totalDistance:e})}},a.removeTrip=function(e){var t=a.state.trips.filter(function(t){return t.id!==e});a.setState({trips:t},function(){var e=JSON.stringify(a.state.trips);localStorage.setItem("trips",e)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getTrips(),this.getDist(),this.getTotCo2()}},{key:"componentDidUpdate",value:function(e,t){this.state.trips.length!==t.trips.length&&(this.getTotalDistance(),this.calcTotalCo2())}},{key:"render",value:function(){var e=this,t=this.state,a=t.arrival,n=t.departure,r=t.trips;return o.a.createElement("div",null,o.a.createElement(j,null),o.a.createElement("div",{className:"tripsDataContainer"},o.a.createElement("h4",null,"Total CO2 emissions from your added flights:"),o.a.createElement("h1",null,this.state.totalCo2," tons"),o.a.createElement(v.a,{to:"/actions"},o.a.createElement("button",{type:"button",className:"goToActionsButton"},"Let's compensate this!"))),o.a.createElement("div",{className:"contentWrapper"},o.a.createElement("div",{className:"tripsInputContainer"},o.a.createElement("form",{className:"tripsInputForm"},o.a.createElement("h3",null,"Add return flights to compensate for:"),o.a.createElement("input",{type:"text",id:"inputDeparture",placeholder:"From",onChange:this.handleDeparture,value:n}),o.a.createElement("input",{type:"text",id:"inputArrival",placeholder:"To",onChange:this.handleArrival,value:a}),o.a.createElement("div",{className:"tripsInputForm-buttonContainer"},o.a.createElement("button",{type:"button",className:"inputButton",onClick:this.getLatLng},"Add trip"),this.state.inputError?o.a.createElement("p",null,"Provided address is invalid!"):o.a.createElement("p",null))),o.a.createElement("div",{className:"tripsContainer"},o.a.createElement("h3",null,"Added trips:"),r.map(function(t){return o.a.createElement(O,{id:t.id,departure:t.departure.toUpperCase(),arrival:t.arrival.toUpperCase(),distance:t.distance,removeTrip:e.removeTrip})}),o.a.createElement("span",null,o.a.createElement("h3",null,"Total flight distance: ",this.state.totalDistance," km"))))))}}]),t}(o.a.Component),A=(a(54),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={chosen:!1},a.handleClick=function(){var e=a.props,t=e.handleActionChoice,n=e.id,o=e.co2value,r=a.state.chosen;a.setState({chosen:!r},function(){t(n,o)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.description,n=e.co2value,r=e.timePeriod,c=e.impact;return o.a.createElement("div",{className:"singleActionContainer"},o.a.createElement("div",{className:"singleActionText"},o.a.createElement("h3",null,t),o.a.createElement("p",null,a),o.a.createElement("p",null,"Reduction of CO2 emission: ",o.a.createElement("span",null,n," tCO2e")," / ",r," year"),o.a.createElement("p",null,c," impact")),o.a.createElement("button",{type:"button",className:"chosenActionButton",onClick:this.handleClick},"Save this action \u2193"))}}]),t}(o.a.Component)),N=(a(57),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleClickRemove=function(){var e=a.props,t=e.id;(0,e.removeAction)(t)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.description,n=e.co2value,r=e.timePeriod,c=e.impact;return o.a.createElement("div",{className:"chosenActionBox"},o.a.createElement("div",null,o.a.createElement("h3",null,t),o.a.createElement("p",null,a),o.a.createElement("p",null,"Reduction of CO2 emission: ",o.a.createElement("span",null,n," tCO2e")," / ",r," year"),o.a.createElement("p",null,c," impact")),o.a.createElement("button",{type:"button",className:"removeActionButton",onClick:this.handleClickRemove},"Remove this action"))}}]),t}(o.a.Component)),k=(a(60),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getTotCo2=function(){JSON.parse(localStorage.getItem("totalCo2"))&&a.setState({totalCo2:JSON.parse(localStorage.getItem("totalCo2"))})},a.getActions=function(){fetch("https://co2actions.herokuapp.com/actions").then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({actions:e})})},a.handleActionChoice=function(e){var t=a.state.chosenActions;a.setState({chosenActions:Object(b.a)(t).concat([e])},function(){var e=JSON.stringify(a.state.chosenActions);localStorage.setItem("chosenActionsData",e)})},a.handleClickShuffle=function(){var e=a.state.actions,t=Math.floor(Math.random()*e.length);a.setState({randomAction:e[t]})},a.calcCo2=function(){var e=0;return a.state.actions.filter(function(e){return a.state.chosenActions.includes(e._id)}).forEach(function(t){e+=Number(t.co2value)}),e},a.removeAction=function(e){var t=a.state.chosenActions.filter(function(t){return t!==e});a.setState({chosenActions:t},function(){var e=JSON.stringify(a.state.chosenActions);localStorage.setItem("chosenActionsData",e)})},a.state={randomAction:null,actions:[],chosenActions:localStorage.getItem("chosenActionsData")?JSON.parse(localStorage.getItem("chosenActionsData")):[],totalCo2:0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getTotCo2(),this.getActions()}},{key:"render",value:function(){var e=this;console.log(this.state.actions);var t=this.state,a=t.randomAction,n=t.chosenActions,r=t.actions;return console.log(this.state.totalCo2-this.calcCo2()),o.a.createElement("div",null,o.a.createElement(j,null),o.a.createElement("div",{className:"myCo2Container"},o.a.createElement("h3",null,"Let's compensate this!"),o.a.createElement("h4",null,"CO2 emissions left to compensate for:"),o.a.createElement("h1",null,this.state.totalCo2-this.calcCo2()," tons"),o.a.createElement("button",{type:"button",className:"actionLoadButton",onClick:this.handleClickShuffle},"Give me a random suggestion!")),o.a.createElement("div",{className:"contentWrapper"},o.a.createElement("div",{className:"actionsContainer"},o.a.createElement("div",{className:"randomActionsContainer"},a&&o.a.createElement(A,{id:a._id,title:a.title.toUpperCase(),description:a.description,co2value:a.co2value,timePeriod:a.timePeriod,impact:a.impact,handleActionChoice:this.handleActionChoice})),o.a.createElement("h2",null,"Saved actions:"),o.a.createElement("div",{className:"chosenActionsContainer"},n.map(function(t){var a=r.find(function(e){return e._id===t});if(a)return o.a.createElement(N,{id:a._id,title:a.title,description:a.description,co2value:a.co2value,timePeriod:a.timePeriod,impact:a.impact,removeAction:e.removeAction})})))))}}]),t}(o.a.Component)),D=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(p.a,null,o.a.createElement("div",null,o.a.createElement(h.a,null,o.a.createElement(d.a,{path:"/",exact:!0,component:E}),o.a.createElement(d.a,{path:"/calculate",exact:!0,component:S}),o.a.createElement(d.a,{path:"/actions",exact:!0,component:k}))))}}]),t}(o.a.Component);a(66);c.a.render(o.a.createElement(D,null),document.getElementById("root"))}},[[22,2,1]]]);
//# sourceMappingURL=main.b6e5ab1b.chunk.js.map