(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(t,e,a){t.exports=a(54)},37:function(t,e,a){},40:function(t,e,a){},45:function(t,e,a){},51:function(t,e,a){},54:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(19),c=a.n(o),i=a(3),l=a(4),s=a(6),u=a(5),m=a(7),p=a(56),h=a(58),d=a(57),v=function(t){function e(){return Object(i.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"pageWrapper"},"LANDING PAGE INTRO TO OUR PROJECT",r.a.createElement("footer",null,r.a.createElement("a",{href:"mailto:someone@oursite.com?subject=Hi!"},"Contact us")))}}]),e}(r.a.Component),f=a(14),g=a(55),E=a(11),C=a.n(E),O=(a(37),function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).handleClickRemove=function(){var t=a.props,e=t.id;(0,t.removeTrip)(e)},a}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.departure,a=t.arrival,n=t.distance;return r.a.createElement("div",null,r.a.createElement("div",{className:"tripContainer"},r.a.createElement("p",null,r.a.createElement("span",null,e)," to ",r.a.createElement("span",null,a),": ",n," km"),r.a.createElement("div",{className:"tripRemoveButton"},r.a.createElement("button",{type:"button",className:"removeButton",onClick:this.handleClickRemove},"Remove"))))}}]),e}(r.a.Component));a(40);C.a.setApiKey("AIzaSyB4-VrovPd6PrQ_UZP_1V39NuCtUkj9m3U"),C.a.enableDebug();var b=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={departure:"",arrival:"",trips:[],totalDistance:0,totalCo2:0},a.handleDeparture=function(t){a.setState({departure:t.target.value})},a.handleArrival=function(t){a.setState({arrival:t.target.value})},a.clearFields=function(){a.setState({departure:"",arrival:""})},a.getLatLng=function(){var t=C.a.fromAddress(a.state.departure).then(function(t){return t.results[0].geometry.location}),e=C.a.fromAddress(a.state.arrival).then(function(t){return t.results[0].geometry.location});Promise.all([t,e]).then(function(t){a.getDistance(t[0],t[1]),a.clearFields()})},a.getDistance=function(t,e){var n=a.state.trips,r=(e.lat-t.lat)*Math.PI/180,o=(e.lng-t.lng)*Math.PI/180,c=.5-Math.cos(r)/2+Math.cos(t.lat*Math.PI/180)*Math.cos(e.lat*Math.PI/180)*(1-Math.cos(o))/2,i=(2*(12742*Math.asin(Math.sqrt(c)))).toFixed(0),l=28e-5*i,s={departure:a.state.departure,arrival:a.state.arrival,distance:i,id:Date.now(),co2Value:l};a.setState({trips:Object(f.a)(n).concat([s])},function(){var t=JSON.stringify(a.state.trips);localStorage.setItem("trips",t)})},a.getTotalDistance=function(){var t=a.state,e=t.trips,n=(t.totalDistance,0);e.forEach(function(t){n+=Number(t.distance)}),a.setState({totalDistance:n},function(){var t=JSON.stringify(a.state.totalDistance);localStorage.setItem("distData",t)})},a.calcTotalCo2=function(){var t=a.state,e=t.trips,n=(t.totalCo2,0);e.forEach(function(t){n+=Number(t.co2Value)}),a.setState({totalCo2:n},function(){var t=JSON.stringify(a.state.totalCo2);localStorage.setItem("totalCo2",t)})},a.getTotCo2=function(){if(localStorage.getItem("totalCo2")){var t=JSON.parse(localStorage.getItem("totalCo2"));a.setState({totalCo2:t})}},a.getTrips=function(){if(localStorage.getItem("trips")){var t=JSON.parse(localStorage.getItem("trips"));a.setState({trips:t})}},a.getDist=function(){if(localStorage.getItem("distData")){var t=JSON.parse(localStorage.getItem("distData"));a.setState({totalDistance:t})}},a.removeTrip=function(t){var e=a.state.trips.filter(function(e){return e.id!==t});a.setState({trips:e})},a}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.getTrips(),this.getDist(),this.getTotCo2()}},{key:"componentDidUpdate",value:function(t,e){this.state.trips.length!==e.trips.length&&(this.getTotalDistance(),this.calcTotalCo2())}},{key:"render",value:function(){var t=this,e=this.state,a=e.arrival,n=e.departure,o=e.trips;return r.a.createElement("div",{className:"pageWrapper"},r.a.createElement("form",{className:"addFlightsForm"},r.a.createElement("label",null,"Add your flight travels: "),r.a.createElement("input",{type:"text",id:"inputDeparture",placeholder:"Departure",onChange:this.handleDeparture,value:n}),r.a.createElement("input",{type:"text",id:"inputArrival",placeholder:"Arrival",onChange:this.handleArrival,value:a}),r.a.createElement("button",{type:"button",className:"inputButton",onClick:this.getLatLng},"Submit")),r.a.createElement("div",{className:"myTravels"},r.a.createElement("h2",null,"My travels"),r.a.createElement("h3",null,"Total distance: ",this.state.totalDistance," km"),r.a.createElement("h3",null,"Total CO2: ",this.state.totalCo2," ton"),o.map(function(e){return r.a.createElement(O,{id:e.id,departure:e.departure,arrival:e.arrival,distance:e.distance,removeTrip:t.removeTrip})}),r.a.createElement(g.a,{to:"/actionspage"},r.a.createElement("button",{type:"button",className:"toActionsPage"},"Let's compensate this!"))))}}]),e}(r.a.Component),j=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={chosen:!1},a.handleClick=function(){var t=a.props,e=t.handleActionChoice,n=t.id,r=a.state.chosen;a.setState({chosen:!r},function(){e(n)})},a}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.title,a=t.description,n=t.co2value,o=t.timePeriod,c=t.impact;return r.a.createElement("div",null,r.a.createElement("div",{className:"singleActionContainer"},r.a.createElement("h3",null,"ACTION: ",e),r.a.createElement("p",null,a),r.a.createElement("p",null,"Reduction of CO2 emission: ",r.a.createElement("span",null,n," tCO2e")," / ",o," year"),r.a.createElement("p",null,c," impact")),r.a.createElement("button",{type:"button",className:"chosenActionButton",onClick:this.handleClick},"Choose this actions"))}}]),e}(r.a.Component),y=function(t){function e(){return Object(i.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.title,a=t.description,n=t.co2value,o=t.timePeriod,c=t.impact;return r.a.createElement("div",null,r.a.createElement("div",{className:"savedActionsContainer"},r.a.createElement("h3",null,e),r.a.createElement("p",null,a),r.a.createElement("p",null,"Reduction of CO2 emission: ",r.a.createElement("span",null,n," tCO2e")," / ",o," year"),r.a.createElement("p",null,c," impact")))}}]),e}(r.a.Component),S=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(s.a)(this,Object(u.a)(e).call(this,t))).getActions=function(){fetch("https://co2actions.herokuapp.com/actions").then(function(t){return t.json()}).then(function(t){a.setState({actions:t})})},a.handleActionChoice=function(t){var e=a.state.chosenActions;a.setState({chosenActions:Object(f.a)(e).concat([t])})},a.handleClickShuffle=function(){var t=a.state.actions,e=Math.floor(Math.random()*t.length);a.setState({randomAction:t[e]})},a.state={randomAction:null,actions:[],chosenActions:[]},a}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.getActions()}},{key:"render",value:function(){var t=this.state,e=t.randomAction,a=t.chosenActions,n=t.actions;return r.a.createElement("div",null,r.a.createElement("h1",null,"Actions"),r.a.createElement("div",{className:"actionLoadButton"},r.a.createElement("button",{type:"button",className:"loadButton",onClick:this.handleClickShuffle},"Get action")),r.a.createElement("div",null,e&&r.a.createElement(j,{id:e._id,title:e.title.toUpperCase(),description:e.description,co2value:e.co2value,timePeriod:e.timePeriod,impact:e.impact,handleActionChoice:this.handleActionChoice})),r.a.createElement("div",{className:"chosenAction"},r.a.createElement("h3",null,"Chosen actions:"),a.map(function(t){var e=n.find(function(e){return e._id===t});return r.a.createElement(y,{title:e.title,description:e.description,co2value:e.co2value,timePeriod:e.timePeriod,impact:e.impact})})))}}]),e}(r.a.Component),A=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={totalCo2:0},a.getTotCo2=function(){JSON.parse(localStorage.getItem("totalCo2"))&&a.setState({totalCo2:JSON.parse(localStorage.getItem("totalCo2"))})},a}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.getTotCo2()}},{key:"render",value:function(){return r.a.createElement("div",{className:"pageWrapper"},r.a.createElement("div",{className:"myCo2Container"},r.a.createElement("h3",null,"Current CO2 value: ",this.state.totalCo2)),r.a.createElement(S,null))}}]),e}(r.a.Component),N=(a(45),function(t){function e(){return Object(i.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("header",{className:"headerTextContainer"},r.a.createElement(g.a,{to:"/"},r.a.createElement("h1",null,"Green Your Consious")),r.a.createElement(g.a,{to:"/flightspage"},r.a.createElement("p",null,"Calculate CO2")),r.a.createElement(g.a,{to:"/actionspage"},r.a.createElement("p",null,"Compansate")))}}]),e}(r.a.Component)),k=function(t){function e(){return Object(i.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement(h.a,null,r.a.createElement(d.a,{path:"/",exact:!0,component:v}),r.a.createElement(d.a,{path:"/flightspage",exact:!0,component:b}),r.a.createElement(d.a,{path:"/actionspage",exact:!0,component:A}))))}}]),e}(r.a.Component);a(51);c.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[21,2,1]]]);
//# sourceMappingURL=main.35d9dccc.chunk.js.map